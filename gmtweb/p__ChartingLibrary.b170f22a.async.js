(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{fJNU:function(K,w,a){"use strict";a.r(w);var m=a("cDcd"),I=a.n(m),O=a("9kvl"),Q=a("tMyG"),C=a("34ay"),ut=a("miYZ"),U=a("tsqr"),z=a("fWQN"),$=a("mtLc"),N=a("tS8v"),X=a("yKVA"),q=a("879j"),dt=a("O3gP"),W=a("lrIw"),pt=a("rqjr"),x=function(){return(x=Object.assign||function(t){for(var n,o=arguments,i=1,h=arguments.length;i<h;i++)for(var r in n=o[i])Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r]);return t}).apply(this,arguments)};function S(e,t){var n=x({},e);for(var o in t)typeof e[o]!="object"||e[o]===null||Array.isArray(e[o])?t[o]!==void 0&&(n[o]=t[o]):n[o]=S(e[o],t[o]);return n}var tt={mobile:{disabled_features:["left_toolbar","header_widget","timeframes_toolbar","edit_buttons_in_legend","context_menus","control_bar","border_around_the_chart"],enabled_features:[]}},et={width:800,height:500,interval:"1D",timezone:"Etc/UTC",container:"",library_path:"",locale:"en",widgetbar:{details:!1,watchlist:!1,watchlist_settings:{default_symbols:[]}},overrides:{"mainSeriesProperties.showCountdown":!1},studies_overrides:{},trading_customization:{position:{},order:{}},brokerConfig:{configFlags:{}},fullscreen:!1,autosize:!1,disabled_features:[],enabled_features:[],debug:!1,logo:{},time_frames:[{text:"5y",resolution:"1W"},{text:"1y",resolution:"1W"},{text:"6m",resolution:"120"},{text:"3m",resolution:"60"},{text:"1m",resolution:"30"},{text:"5d",resolution:"5"},{text:"1d",resolution:"1"}],client_id:"0",user_id:"0",charts_storage_api_version:"1.0",favorites:{intervals:[],chartTypes:[]}};function nt(){return"CL v19.037 (internal id ca0cc69b @ 2021-07-09T16:54:01.189Z)"}var ot=function(){function e(t){if(this._id="tradingview_"+(1048576*(1+Math.random())|0).toString(16).substring(1),this._ready=!1,this._readyHandlers=[],this._onWindowResize=this._autoResizeChart.bind(this),!t.datafeed)throw new Error("Datafeed is not defined");if(this._options=S(et,t),t.preset){var n=tt[t.preset];n?(this._options.disabled_features!==void 0?this._options.disabled_features=this._options.disabled_features.concat(n.disabled_features):this._options.disabled_features=n.disabled_features,this._options.enabled_features!==void 0?this._options.enabled_features=this._options.enabled_features.concat(n.enabled_features):this._options.enabled_features=n.enabled_features):console.warn("Unknown preset: `"+t.preset+"`")}this._options.theme==="Dark"&&this._options.loading_screen===void 0&&(this._options.loading_screen={backgroundColor:"#131722"}),this._create()}return e.prototype.onChartReady=function(t){this._ready?t.call(this):this._readyHandlers.push(t)},e.prototype.headerReady=function(){var t=this;return this._innerWindowLoaded.then(function(){return t._innerWindow().headerReady()})},e.prototype.onGrayedObjectClicked=function(t){this._innerAPI().onGrayedObjectClicked(t)},e.prototype.onShortcut=function(t,n){this._innerWindow().createShortcutAction(t,n)},e.prototype.subscribe=function(t,n){this._innerAPI().subscribe(t,n)},e.prototype.unsubscribe=function(t,n){this._innerAPI().unsubscribe(t,n)},e.prototype.chart=function(t){return this._innerAPI().chart(t)},e.prototype.getLanguage=function(){return this._options.locale},e.prototype.setSymbol=function(t,n,o){this._innerAPI().changeSymbol(t,n,o)},e.prototype.remove=function(){window.removeEventListener("resize",this._onWindowResize),this._readyHandlers.splice(0,this._readyHandlers.length),delete window[this._id],this._iFrame.parentNode&&this._iFrame.parentNode.removeChild(this._iFrame)},e.prototype.closePopupsAndDialogs=function(){this._innerAPI().closePopupsAndDialogs()},e.prototype.selectLineTool=function(t){this._innerAPI().selectLineTool(t)},e.prototype.selectedLineTool=function(){return this._innerAPI().selectedLineTool()},e.prototype.save=function(t){this._innerAPI().saveChart(t)},e.prototype.load=function(t,n){this._innerAPI().loadChart({json:t,extendedData:n})},e.prototype.getSavedCharts=function(t){this._innerAPI().getSavedCharts(t)},e.prototype.loadChartFromServer=function(t){this._innerAPI().loadChartFromServer(t)},e.prototype.saveChartToServer=function(t,n,o){this._innerAPI().saveChartToServer(t,n,o)},e.prototype.removeChartFromServer=function(t,n){this._innerAPI().removeChartFromServer(t,n)},e.prototype.onContextMenu=function(t){this._innerAPI().onContextMenu(t)},e.prototype.createButton=function(t){return this._innerWindow().createButton(t)},e.prototype.showNoticeDialog=function(t){this._innerAPI().showNoticeDialog(t)},e.prototype.showConfirmDialog=function(t){this._innerAPI().showConfirmDialog(t)},e.prototype.showLoadChartDialog=function(){this._innerAPI().showLoadChartDialog()},e.prototype.showSaveAsChartDialog=function(){this._innerAPI().showSaveAsChartDialog()},e.prototype.symbolInterval=function(){return this._innerAPI().getSymbolInterval()},e.prototype.mainSeriesPriceFormatter=function(){return this._innerAPI().mainSeriesPriceFormatter()},e.prototype.getIntervals=function(){return this._innerAPI().getIntervals()},e.prototype.getStudiesList=function(){return this._innerAPI().getStudiesList()},e.prototype.addCustomCSSFile=function(t){this._innerWindow().addCustomCSSFile(t)},e.prototype.applyOverrides=function(t){this._options=S(this._options,{overrides:t}),this._innerWindow().applyOverrides(t)},e.prototype.applyStudiesOverrides=function(t){this._innerWindow().applyStudiesOverrides(t)},e.prototype.watchList=function(){return this._innerAPI().watchlist()},e.prototype.activeChart=function(){return this._innerAPI().activeChart()},e.prototype.chartsCount=function(){return this._innerAPI().chartsCount()},e.prototype.layout=function(){return this._innerAPI().layout()},e.prototype.setLayout=function(t){this._innerAPI().setLayout(t)},e.prototype.layoutName=function(){return this._innerAPI().layoutName()},e.prototype.changeTheme=function(t,n){this._innerWindow().changeTheme(t,n)},e.prototype.getTheme=function(){return this._innerWindow().getTheme()},e.prototype.takeScreenshot=function(){this._innerAPI().takeScreenshot()},e.prototype.lockAllDrawingTools=function(){return this._innerAPI().lockAllDrawingTools()},e.prototype.hideAllDrawingTools=function(){return this._innerAPI().hideAllDrawingTools()},e.prototype.drawOnAllCharts=function(t){this._innerAPI().drawOnAllCharts(t)},e.prototype.magnetEnabled=function(){return this._innerAPI().magnetEnabled()},e.prototype.magnetMode=function(){return this._innerAPI().magnetMode()},e.prototype.undoRedoState=function(){return this._innerAPI().undoRedoState()},e.prototype.setIntervalLinkingEnabled=function(t){this._innerAPI().setIntervalLinkingEnabled(t)},e.prototype.setTimeFrame=function(t){this._innerAPI().setTimeFrame(t)},e.prototype.symbolSync=function(){return this._innerAPI().symbolSync()},e.prototype.intervalSync=function(){return this._innerAPI().intervalSync()},e.prototype.crosshairSync=function(){return this._innerAPI().crosshairSync()},e.prototype.timeSync=function(){return this._innerAPI().timeSync()},e.prototype.getAllFeatures=function(){return this._innerWindow().getAllFeatures()},e.prototype.clearUndoHistory=function(){return this._innerAPI().clearUndoHistory()},e.prototype.undo=function(){return this._innerAPI().undo()},e.prototype.redo=function(){return this._innerAPI().redo()},e.prototype.startFullscreen=function(){this._innerAPI().startFullscreen()},e.prototype.exitFullscreen=function(){this._innerAPI().exitFullscreen()},e.prototype.takeClientScreenshot=function(t){return this._innerAPI().takeClientScreenshot(t)},e.prototype._innerAPI=function(){return this._innerWindow().tradingViewApi},e.prototype._innerWindow=function(){return this._iFrame.contentWindow},e.prototype._autoResizeChart=function(){this._options.fullscreen&&(this._iFrame.style.height=window.innerHeight+"px")},e.prototype._create=function(){var t=this,n=this._render();this._options.container_id&&console.warn("`container_id` is now deprecated. Please use `container` instead to either still pass a string or an `HTMLElement`.");var o=this._options.container_id||this._options.container,i=typeof o=="string"?document.getElementById(o):o;if(i===null)throw new Error("There is no such element - #"+this._options.container);i.innerHTML=n,this._iFrame=i.querySelector("#"+this._id);var h=this._iFrame;(this._options.autosize||this._options.fullscreen)&&(h.style.width="100%",this._options.fullscreen||(h.style.height="100%")),window.addEventListener("resize",this._onWindowResize),this._onWindowResize(),this._innerWindowLoaded=new Promise(function(r){var l=function u(){h.removeEventListener("load",u,!1),r()};h.addEventListener("load",l,!1)}),this._innerWindowLoaded.then(function(){t._innerWindow().widgetReady(function(){t._ready=!0;for(var r=0,l=t._readyHandlers;r<l.length;r++){var u=l[r];try{u.call(t)}catch(d){console.error(d)}}t._innerWindow().initializationFinished()})})},e.prototype._render=function(){var t=window;if(t[this._id]={datafeed:this._options.datafeed,customFormatters:this._options.custom_formatters||this._options.customFormatters,brokerFactory:this._options.broker_factory||this._options.brokerFactory,overrides:this._options.overrides,studiesOverrides:this._options.studies_overrides,tradingCustomization:this._options.trading_customization,disabledFeatures:this._options.disabled_features,enabledFeatures:this._options.enabled_features,brokerConfig:this._options.broker_config||this._options.brokerConfig,restConfig:this._options.restConfig,favorites:this._options.favorites,logo:this._options.logo,numeric_formatting:this._options.numeric_formatting,rss_news_feed:this._options.rss_news_feed,newsProvider:this._options.news_provider,loadLastChart:this._options.load_last_chart,saveLoadAdapter:this._options.save_load_adapter,loading_screen:this._options.loading_screen,settingsAdapter:this._options.settings_adapter,getCustomIndicators:this._options.custom_indicators_getter},this._options.saved_data)t[this._id].chartContent={json:this._options.saved_data},this._options.saved_data_meta_info&&(t[this._id].chartContentExtendedData=this._options.saved_data_meta_info);else if(!this._options.load_last_chart&&!this._options.symbol)throw new Error("Symbol is not defined: either 'symbol' or 'load_last_chart' option must be set");var n=(this._options.library_path||"")+(encodeURIComponent(this._options.locale)+"-tv-chart.ca0cc69b.html#symbol=")+encodeURIComponent(this._options.symbol||"")+"&interval="+encodeURIComponent(this._options.interval)+(this._options.timeframe?"&timeframe="+encodeURIComponent(this._options.timeframe):"")+(this._options.toolbar_bg?"&toolbarbg="+encodeURIComponent(this._options.toolbar_bg.replace("#","")):"")+(this._options.studies_access?"&studiesAccess="+encodeURIComponent(JSON.stringify(this._options.studies_access)):"")+"&widgetbar="+encodeURIComponent(JSON.stringify(this._options.widgetbar))+(this._options.drawings_access?"&drawingsAccess="+encodeURIComponent(JSON.stringify(this._options.drawings_access)):"")+"&timeFrames="+encodeURIComponent(JSON.stringify(this._options.time_frames))+"&locale="+encodeURIComponent(this._options.locale)+"&uid="+encodeURIComponent(this._id)+"&clientId="+encodeURIComponent(String(this._options.client_id))+"&userId="+encodeURIComponent(String(this._options.user_id))+(this._options.charts_storage_url?"&chartsStorageUrl="+encodeURIComponent(this._options.charts_storage_url):"")+(this._options.charts_storage_api_version?"&chartsStorageVer="+encodeURIComponent(this._options.charts_storage_api_version):"")+(this._options.custom_css_url?"&customCSS="+encodeURIComponent(this._options.custom_css_url):"")+(this._options.auto_save_delay?"&autoSaveDelay="+encodeURIComponent(String(this._options.auto_save_delay)):"")+"&debug="+encodeURIComponent(String(this._options.debug))+(this._options.snapshot_url?"&snapshotUrl="+encodeURIComponent(this._options.snapshot_url):"")+(this._options.timezone?"&timezone="+encodeURIComponent(this._options.timezone):"")+(this._options.study_count_limit?"&studyCountLimit="+encodeURIComponent(String(this._options.study_count_limit)):"")+(this._options.symbol_search_request_delay?"&ssreqdelay="+encodeURIComponent(String(this._options.symbol_search_request_delay)):"")+(this._options.compare_symbols?"&compareSymbols="+encodeURIComponent(JSON.stringify(this._options.compare_symbols)):"")+(this._options.theme?"&theme="+encodeURIComponent(String(this._options.theme)):"");return'<iframe id="'+this._id+'" name="'+this._id+'"  src="'+n+'"'+(this._options.autosize||this._options.fullscreen?"":' width="'+this._options.width+'" height="'+this._options.height+'"')+' frameborder="0" allowTransparency="true" scrolling="no" allowfullscreen style="display:block;"></iframe>'},e}();window.TradingView=window.TradingView||{},window.TradingView.version=nt;var A=a("9og8"),it=a("WmNS"),g=a.n(it),P=a("t3Un");function rt(e){return T.apply(this,arguments)}function T(){return T=Object(A.a)(g.a.mark(function e(t){return g.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",Object(P.a)("".concat("https://Gmtdata.technology/gmt","/f106/getStockAuthorize?ric=").concat(t.ric),{method:"get",headers:{accessToken:t.accessToken}}));case 1:case"end":return o.stop()}},e)})),T.apply(this,arguments)}function j(e){return R.apply(this,arguments)}function R(){return R=Object(A.a)(g.a.mark(function e(t){return g.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",Object(P.a)("".concat("https://Gmtdata.technology/gmt","/f106/getInterdayTH?ric=").concat(t.ric,"&startTime=").concat(t.startTime,"&endTime=").concat(t.endTime,"&period=").concat(t.period),{method:"get",headers:{accessToken:t.accessToken}}));case 1:case"end":return o.stop()}},e)})),R.apply(this,arguments)}function st(e){return L.apply(this,arguments)}function L(){return L=Object(A.a)(g.a.mark(function e(t){return g.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",Object(P.a)("".concat("https://Gmtdata.technology/gmt","/ric/queryByRic?ric=").concat(t.ric,"&pageSize=").concat(t.pageSize,"&page=").concat(t.page),{method:"get",headers:{accessToken:t.accessToken}}));case 1:case"end":return o.stop()}},e)})),L.apply(this,arguments)}var at=a("wd/R"),E=a.n(at),k=Object(C.a)(),v=0,D=null,F=null,V=null,H=null,M=new Date().getTime(),ct=function e(){Object(z.a)(this,e),this.onReady=function(t){t(this._configuration)},this.getSendSymbolName=function(t){var n=t.split("/");return(n[0]+n[1]).toLocaleUpperCase()},this.resolveSymbol=function(t,n,o){n({name:t,pricescale:100,minmov:1,minmov2:0,ticker:t,description:"",session:"24x7",type:"bitcoin",volume_precision:10,has_intraday:!0,intraday_multipliers:["3","5","15","60","240","1D"],has_weekly_and_monthly:!1,has_no_volume:!1,regular_session:"24x7"})},this.getApiTime=function(t){switch(t){case"3":return"3m";case"5":return"5m";case"15":return"15m";case"60":return"1h";case"240":return"4h";case"1D":return"1d";default:return"15m"}},this.getBars=function(t,n,o,i,h){(!v||n!==D||F!==t.name)&&(F=t.name,v=Date.now());var r=o.from,l=o.to,u=o.firstDataRequest,d=o.countBack;H=r*1e3,M=l*1e3,clearInterval(V);var f=Number((Date.now()+"").substr(0,9)+"0000"),y={ric:F,period:"D",startTime:r?E()(r*1e3).format("YYYY-MM-DD"):"",endTime:l?E()(l*1e3).format("YYYY-MM-DD"):"",accessToken:k.accessToken};j(y).then(function(c){if(c.state){var _=c.data,b=_&&_[y.ric]?_[y.ric].length:0;if(b>0){var s=_[y.ric];D=n;var J={noData:!1},Z=[];if(s.length){localStorage.setItem("k_open",Number(s[s.length-1].open).toFixed(2)),localStorage.setItem("k_high",Number(s[s.length-1].high).toFixed(2)),localStorage.setItem("k_low",Number(s[s.length-1].low).toFixed(2)),localStorage.setItem("k_close",Number(s[s.length-1].close).toFixed(2)),localStorage.setItem("k_volume",Number(s[s.length-1].volume).toFixed(2)),v=f;for(var p=0;p<s.length;p+=1)Z.push({time:s[p].time?Number(new Date(s[p].time).getTime()):new Date().getTime(),close:s[p].close,open:s[p].open,high:s[p].high,low:s[p].low,volume:s[p].volume})}else J={noData:!0};i(Z,J)}}else console.log(c.message)})},this.subscribeBars=function(t,n,o,i,h){var r=this;V=setInterval(function(){var l=Number((Date.now()+"").substr(0,9)+"0000"),u={ric:r.getSendSymbolName(t.name),period:"D",startTime:H,endTime:M,accessToken:k.accessToken};j(u).then(function(d){if(d.state){var f=d.data,y=f&&f[u.ric]?f[u.ric].length:0;if(y>0){var c=f[u.ric];D=n;var _={noData:!1},b=[];if(c.length){localStorage.setItem("k_open",Number(c[c.length-1].open).toFixed(2)),localStorage.setItem("k_high",Number(c[c.length-1].high).toFixed(2)),localStorage.setItem("k_low",Number(c[c.length-1].low).toFixed(2)),localStorage.setItem("k_close",Number(c[c.length-1].close).toFixed(2)),localStorage.setItem("k_volume",Number(c[c.length-1].volume).toFixed(2)),v=l;for(var s=0;s<c.length;s+=1)b.push({time:c[s].time?Number(new Date(c[s].time).getTime()):new Date().getTime(),close:c[s].close,open:c[s].open,high:c[s].high,low:c[s].low,volume:c[s].volume})}else _={noData:!0};onResult(b,_)}}else console.log(d.message)})},6e3)},this.unsubscribeBars=function(t){}},lt=W.a.Option,B=Object(C.a)(),G;function mt(){var e=new RegExp("[\\?&]lang=([^&#]*)"),t=e.exec(window.location.search);return t===null?null:decodeURIComponent(t[1].replace(/\+/g," "))}var Y=function(e){Object(X.a)(n,e);var t=Object(q.a)(n);function n(o){var i;return Object(z.a)(this,n),i=t.call(this,o),i.tvWidget=null,i.queryRicListData=function(h){i.state.ricParams.ric=h,st(i.state.ricParams).then(function(r){if(r.state){var l;r!=null&&(l=r.data)!==null&&l!==void 0&&l.result&&r.data.result.length>0&&i.setState({ricList:r.data.result})}else U.default.error(r.message)})},i.state={dataFlag:!1,params:{ric:"AAPL.O",accessToken:B.accessToken},ricList:[],ricParams:{ric:"",pageSize:10,page:1,accessToken:B.accessToken}},i.checkAuthorize=i.checkAuthorize.bind(Object(N.a)(i)),i.tradingviewLoad=i.tradingviewLoad.bind(Object(N.a)(i)),i.checkAuthorize(),i}return Object($.a)(n,[{key:"checkAuthorize",value:function(i){var h=this;i&&(this.state.params.ric=i),rt(this.state.params).then(function(r){r.state?(h.setState({dataFlag:r.data}),h.tradingviewLoad(i)):U.default.error(r.message)})}},{key:"tradingviewLoad",value:function(i){var h=this;G=new ct;var r={};this.state.dataFlag?(this.props.symbol=="AAPL.O"&&(this.props.symbol="AAPl"),r={theme:"Dark",symbol:i||this.props.symbol,datafeed:new window.Datafeeds.UDFCompatibleDatafeed(this.props.datafeedUrl),interval:this.props.interval,container:this.props.containerId,library_path:this.props.libraryPath,locale:localStorage.umi_locale==="zh-CN"?"zh":"en",disabled_features:["use_localstorage_for_settings"],enabled_features:["study_templates"],charts_storage_url:this.props.chartsStorageUrl,charts_storage_api_version:this.props.chartsStorageApiVersion,client_id:this.props.clientId,user_id:this.props.userId,fullscreen:this.props.fullscreen,autosize:this.props.autosize,studies_overrides:this.props.studiesOverrides}):r={theme:"Dark",symbol:i||this.props.symbol,datafeed:G,interval:this.props.interval,container:this.props.containerId,library_path:this.props.libraryPath,locale:localStorage.umi_locale==="zh-CN"?"zh":"en",disabled_features:["use_localstorage_for_settings"],enabled_features:["study_templates"],charts_storage_url:this.props.chartsStorageUrl,charts_storage_api_version:this.props.chartsStorageApiVersion,client_id:this.props.clientId,user_id:this.props.userId,fullscreen:this.props.fullscreen,autosize:this.props.autosize,studies_overrides:this.props.studiesOverrides};var l=new ot(r);this.tvWidget=l,l.onChartReady(function(){if(l.headerReady().then(function(){var d=l.createButton();d.setAttribute("title","Click to show a notification popup"),d.classList.add("apply-common-tooltip"),d.addEventListener("click",function(){return l.showNoticeDialog({title:"Notification",body:"TradingView Charting Library API works correctly",callback:function(){console.log("Noticed!")}})}),d.innerHTML="Check API"}),!l.activeChart().dataReady()){var u=h;setTimeout(function(){u.checkAuthorize()},1e4)}})}},{key:"componentWillUnmount",value:function(){this.tvWidget!==null&&(this.tvWidget.remove(),this.tvWidget=null)}},{key:"render",value:function(){var i=this;return m.createElement("div",null,m.createElement("div",null,m.createElement(W.a,{onChange:function(r){return i.queryRicListData(r)},name:"code",style:{margin:"20px",width:320},onSelect:function(r){return i.checkAuthorize(r)},placeholder:"ric"},this.state.ricList.length>0?this.state.ricList.map(function(h,r){return m.createElement(lt,{key:r,value:h.ric},h.ric)}):"")),m.createElement("div",{id:this.props.containerId,className:"TVChartContainer"}))}}]),n}(m.PureComponent);Y.defaultProps={symbol:"AAPL.O",interval:"D",containerId:"tv_chart_container",datafeedUrl:"https://demo_feed.tradingview.com",libraryPath:"/gmtweb/charting_library/",chartsStorageUrl:"https://saveload.tradingview.com",chartsStorageApiVersion:"1.1",clientId:"tradingview.com",userId:"public_user_id",fullscreen:!1,autosize:!0,studiesOverrides:{}};var ht=function(){var t=Object(C.a)(),n=Object(O.f)();return I.a.createElement(Q.a,null,I.a.createElement("div",null,I.a.createElement(Y,null)))},ft=w.default=Object(O.c)(function(e){var t=e.loading;return{loading:t}})(ht)},rqjr:function(K,w,a){}}]);
