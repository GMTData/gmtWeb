(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{"7lHW":function(p,P,a){p.exports=a.p+"static/image_mockup@2x.2a31d52b.png"},b56D:function(p,P,a){p.exports={simple:"simple___2_deZ",main:"main___1cspn",icon:"icon___2wcAW",other:"other___1XcCf",register:"register___ENa1o",prefixIcon:"prefixIcon___1oUbc",contentTitle:"contentTitle___Kz8FB",widthContent:"widthContent___2xg81",textYellow:"textYellow___1IJ2n",textWhite:"textWhite___1xGJ5",spanPointer:"spanPointer___3vWlb",tabLine:"tabLine___3QCkE"}},z92u:function(p,P,a){"use strict";a.r(P);var ie=a("Znn+"),h=a("ZTPi"),de=a("miYZ"),c=a("tsqr"),f=a("tJVT"),ge=a("fOrg"),U=a("+KLJ"),_=a("cDcd"),e=a.n(_),O=a("VMEa"),C=a("Qurx"),F=a("/aGu"),j=a("tneF"),s=a("9kvl"),N=a("55Ip"),w=a("TVMc"),S=a("b56D"),o=a.n(S),V=a("z0pW"),z=a.n(V),J=a("RuRJ"),ce=a.n(J),G=a("+oO8"),_e=a.t("+oO8",1),d=a("+n12"),Y=a("7lHW"),Z=a.n(Y),E="",T="mobile",A=function(g){var m=g.content;return e.a.createElement(U.a,{style:{marginBottom:24},message:m,type:"error",showIcon:!0})},$=function(g){var m=g.userForgetPassword,L=m===void 0?{}:m,v=g.submitting,b=L.status,W=L.type,H=Object(_.useState)({}),y=Object(f.a)(H,2),me=y[0],Q=y[1],X=Object(_.useState)({}),R=Object(f.a)(X,2),fe=R[0],Ee=R[1],q=Object(_.useState)("mobile"),I=Object(f.a)(q,2),B=I[0],k=I[1],t=Object(s.f)(),ee=O.a.useForm(),ae=Object(f.a)(ee,1),D=ae[0],te=function(r){var u=g.dispatch,i=D.getFieldsValue();if(T==="mobile"){var l={phone:E||"",newPassword:i.password,verificationCode:i.captchaPhone};u({type:"forgetPassword/forgetPasswordByPhone",payload:l})}else{var le={email:i.mail,newPassword:i.password,verificationCode:i.captchaEmail};u({type:"forgetPassword/forgetPasswordByMail",payload:le})}},se=Object(_.useState)(),x=Object(f.a)(se,2),re=x[0],oe=x[1],ne=function(){t.locale==="zh-CN"&&oe(G)};Object(_.useEffect)(function(){ne()},[]);var ue=function(r){E=r,Q(r)},K=function(r){T=r;var u={};if(r==="mail"){var i=D.getFieldValue("mail");i&&(u=Object(w.c)(i).then(function(l){l.state?t.locale==="zh-CN"?c.default.success(d.c):c.default.success(d.d):c.default.error(l.message)}))}else E&&(u=Object(w.d)(E).then(function(l){l.state?t.locale==="zh-CN"?c.default.success(d.c):c.default.success(d.d):c.default.error(l.message)}))};return e.a.createElement("div",null,e.a.createElement("div",{className:o.a.simple},e.a.createElement("img",{src:Z.a,style:{width:"100%"}})),e.a.createElement("div",{className:o.a.main},e.a.createElement(O.a,{initialValues:{autoLogin:!0},autoComplete:"off",form:D,submitter:{render:function(r,u){return u.pop()},submitButtonProps:{loading:v,size:"large",style:{width:"464px",height:"48px",display:"block",margin:"0 auto",background:"#EDC027",borderRadius:"2px",borderColor:"#EDC027"}}},onFinish:function(r){return te(r),Promise.resolve()}},e.a.createElement("div",{className:o.a.contentTitle},e.a.createElement("span",null,t.formatMessage({id:"pages.layouts.forgetPassword.title",defaultMessage:"\u5FD8\u8BB0\u5BC6\u7801"}))),e.a.createElement(h.a,{activeKey:B,onChange:k,className:o.a.widthContent},e.a.createElement(h.a.TabPane,{key:"mobile",tab:t.formatMessage({id:"pages.forgetPassword.phone.tab",defaultMessage:"\u624B\u673A\u627E\u56DE"})}),e.a.createElement(h.a.TabPane,{style:{marginLeft:"128px"},key:"mail",tab:t.formatMessage({id:"pages.forgetPassword.mail.tab",defaultMessage:"\u90AE\u7BB1\u627E\u56DE"})})),e.a.createElement("div",{className:o.a.tabLine}),e.a.createElement("div",{className:o.a.widthContent},b==="error"&&W==="mail"&&!v&&e.a.createElement(A,{content:t.formatMessage({id:"pages.forgetPassword.accountLogin.errorMessage",defaultMessage:"\u8D26\u6237\u6216\u5BC6\u7801\u9519\u8BEF\uFF08admin/ant.design)"})}),B==="mail"&&e.a.createElement(e.a.Fragment,null,e.a.createElement(C.a,{name:"mail",fieldProps:{size:"large"},placeholder:t.formatMessage({id:"pages.forgetPassword.mail.placeholder",defaultMessage:"\u8BF7\u8F93\u5165\u90AE\u7BB1"}),rules:[{required:!0,message:e.a.createElement(s.a,{id:"pages.forgetPassword.mail.required",defaultMessage:"\u8BF7\u8F93\u5165\u90AE\u7BB1!"})},{pattern:d.e,message:e.a.createElement(s.a,{id:"pages.register.email.reg",defaultMessage:"\u90AE\u7BB1\u683C\u5F0F\u4E0D\u6B63\u786E\uFF01"})}]}),e.a.createElement(F.a,{fieldProps:{size:"large"},captchaProps:{size:"large"},placeholder:t.formatMessage({id:"pages.forgetPassword.captcha.placeholder",defaultMessage:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801"}),captchaTextRender:function(r,u){return r?"".concat(u," ").concat(t.formatMessage({id:"pages.getCaptchaSecondText",defaultMessage:"\u83B7\u53D6\u9A8C\u8BC1\u7801"})):t.formatMessage({id:"pages.forgetPassword.phoneLogin.getVerificationCode",defaultMessage:"\u83B7\u53D6\u9A8C\u8BC1\u7801"})},name:"captchaEmail",rules:[{required:!0,message:e.a.createElement(s.a,{id:"pages.forgetPassword.captcha.required",defaultMessage:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801\uFF01"})}],onGetCaptcha:function(){return K("mail")}})),b==="error"&&W==="mobile"&&!v&&e.a.createElement(A,{content:"\u9A8C\u8BC1\u7801\u9519\u8BEF"}),B==="mobile"&&e.a.createElement(e.a.Fragment,null,e.a.createElement(z.a,{country:"cn",autoFormat:!0,enableSearch:!0,onChange:function(r){return ue(r)},localization:re,name:"mobile",placeholder:t.formatMessage({id:"pages.forgetPassword.phoneNumber.placeholder",defaultMessage:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7"}),inputProps:{name:"mobile",required:!0},rules:[{required:!0,message:e.a.createElement(s.a,{id:"pages.forgetPassword.phoneNumber.required",defaultMessage:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7\uFF01"})}]}),e.a.createElement(F.a,{fieldProps:{size:"large"},captchaProps:{size:"large"},placeholder:t.formatMessage({id:"pages.forgetPassword.captcha.placeholder",defaultMessage:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801"}),captchaTextRender:function(r,u){return r?"".concat(u," ").concat(t.formatMessage({id:"pages.getCaptchaSecondText",defaultMessage:"\u83B7\u53D6\u9A8C\u8BC1\u7801"})):t.formatMessage({id:"pages.forgetPassword.phoneLogin.getVerificationCode",defaultMessage:"\u83B7\u53D6\u9A8C\u8BC1\u7801"})},name:"captchaPhone",rules:[{required:!0,message:e.a.createElement(s.a,{id:"pages.forgetPassword.captcha.required",defaultMessage:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801\uFF01"})}],onGetCaptcha:function(){return K("mobile")}})),e.a.createElement(C.a.Password,{name:"password",fieldProps:{size:"large"},placeholder:t.formatMessage({id:"pages.forgetPassword.password.placeholder",defaultMessage:"\u5BC6\u7801: ant.design"}),rules:[{required:!0,message:e.a.createElement(s.a,{id:"pages.forgetPassword.password.required",defaultMessage:"\u8BF7\u8F93\u5165\u5BC6\u7801\uFF01"})},{pattern:d.o,message:e.a.createElement(s.a,{id:"pages.register.password.reg",defaultMessage:"\u5BC6\u78018-20\u4F4D,\u6570\u5B57,\u5B57\u6BCD\u6216\u5B57\u7B26\u81F3\u5C11\u4E24\u79CD\uFF01"})}]}),e.a.createElement(C.a.Password,{name:"passwordAgain",fieldProps:{size:"large"},placeholder:t.formatMessage({id:"pages.forgetPassword.password.again.placeholder",defaultMessage:"\u8BF7\u518D\u6B21\u8F93\u5165\u5BC6\u7801"}),rules:[{required:!0,message:e.a.createElement(s.a,{id:"pages.forgetPassword.password.again.required",defaultMessage:"\u8BF7\u518D\u6B21\u8F93\u5165\u5BC6\u7801\uFF01"})},{pattern:d.o,message:e.a.createElement(s.a,{id:"pages.register.password.reg",defaultMessage:"\u5BC6\u78018-20\u4F4D,\u6570\u5B57,\u5B57\u6BCD\u6216\u5B57\u7B26\u81F3\u5C11\u4E24\u79CD\uFF01"})},function(n){var r=n.getFieldValue;return{validator:function(i,l){return!l||r("password")===l?Promise.resolve():Promise.reject(t.formatMessage({id:"pages.register.password.notSame",defaultMessage:"\u4E24\u6B21\u5BC6\u7801\u4E0D\u4E00\u81F4"}))}}}]}),e.a.createElement("div",{style:{marginBottom:24}},e.a.createElement(j.a,{noStyle:!0,name:"autoLogin"},e.a.createElement("span",{className:o.a.textWhite},e.a.createElement(s.a,{id:"pages.register.readAndAgree",defaultMessage:"\u6211\u5DF2\u9605\u8BFB\u5E76\u540C\u610F"}))),e.a.createElement("span",{className:o.a.textYellow},e.a.createElement(s.a,{id:"pages.login.userTerms",defaultMessage:"\u7528\u6237\u6761\u6B3E\u548C\u6761\u4EF6"}),e.a.createElement("span",{style:{color:"white"}},e.a.createElement(s.a,{id:"pages.login.asWell",defaultMessage:"\u4EE5\u53CA"})),e.a.createElement(s.a,{id:"pages.login.privacyPolicy",defaultMessage:"\u9690\u79C1\u653F\u7B56"}))))),e.a.createElement("div",null,e.a.createElement("div",{className:o.a.widthContent,style:{marginTop:32,marginBottom:40,textAlign:"center"}},e.a.createElement("span",{className:o.a.textWhite},e.a.createElement(s.a,{id:"pages.forgetPassword.haveAccount",defaultMessage:"\u5BC6\u7801\u5DF2\u627E\u56DE?"})),e.a.createElement(N.a,{to:{pathname:"/user/login"}},e.a.createElement("span",{className:["".concat(o.a.textYellow),"".concat(o.a.spanPointer)].join(" ")},e.a.createElement(s.a,{id:"pages.forgetPassword.signInNow",defaultMessage:"\u7ACB\u5373\u767B\u5F55"})))))))};P.default=Object(s.c)(function(M){var g=M.forgetPassword,m=M.loading;return{userForgetPassword:g,submitting:m.effects["forgetPassword/forgetPasswordByPhone"]}})($)}}]);
